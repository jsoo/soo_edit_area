
# Name: soo_editarea v0.1.0
# Type:  
# Implement EditArea for admin-side code highlighting
# Author: Jeff Soo
# URL: http://ipsedixit.net/txp/


YToxMDp7czo0OiJuYW1lIjtzOjEyOiJzb29fZWRpdGFyZWEiO3M6NzoidmVyc2lvbiI7czo1
OiIwLjEuMCI7czo2OiJhdXRob3IiO3M6ODoiSmVmZiBTb28iO3M6MTA6ImF1dGhvcl91cmki
O3M6MjU6Imh0dHA6Ly9pcHNlZGl4aXQubmV0L3R4cC8iO3M6MTE6ImRlc2NyaXB0aW9uIjtz
OjUxOiJJbXBsZW1lbnQgRWRpdEFyZWEgZm9yIGFkbWluLXNpZGUgY29kZSBoaWdobGlnaHRp
bmciO3M6NDoidHlwZSI7aTozO3M6NToiZmxhZ3MiO2k6MztzOjQ6ImhlbHAiO3M6MzgwNjoi
PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KZGl2I3NlZF9oZWxwIHByZSB7cGFkZGluZzogMC41
ZW0gMWVtOyBiYWNrZ3JvdW5kOiAjZWVlOyBib3JkZXI6IDFweCBkYXNoZWQgI2NjYzt9CmRp
diNzZWRfaGVscCBoMSwgZGl2I3NlZF9oZWxwIGgyLCBkaXYjc2VkX2hlbHAgaDMsIGRpdiNz
ZWRfaGVscCBoMyBjb2RlIHtmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6
IGJvbGQ7fQpkaXYjc2VkX2hlbHAgaDEsIGRpdiNzZWRfaGVscCBoMiwgZGl2I3NlZF9oZWxw
IGgzIHttYXJnaW4tbGVmdDogLTFlbTt9CmRpdiNzZWRfaGVscCBoMiwgZGl2I3NlZF9oZWxw
IGgzIHttYXJnaW4tdG9wOiAyZW07fQpkaXYjc2VkX2hlbHAgaDEge2ZvbnQtc2l6ZTogMi40
ZW07fQpkaXYjc2VkX2hlbHAgaDIge2ZvbnQtc2l6ZTogMS44ZW07fQpkaXYjc2VkX2hlbHAg
aDMge2ZvbnQtc2l6ZTogMS40ZW07fQpkaXYjc2VkX2hlbHAgaDQge2ZvbnQtc2l6ZTogMS4y
ZW07fQpkaXYjc2VkX2hlbHAgaDUge2ZvbnQtc2l6ZTogMWVtO21hcmdpbi1sZWZ0OjFlbTtm
b250LXN0eWxlOm9ibGlxdWU7fQpkaXYjc2VkX2hlbHAgaDYge2ZvbnQtc2l6ZTogMWVtO21h
cmdpbi1sZWZ0OjJlbTtmb250LXN0eWxlOm9ibGlxdWU7fQpkaXYjc2VkX2hlbHAgbGkge2xp
c3Qtc3R5bGUtdHlwZTogZGlzYzt9CmRpdiNzZWRfaGVscCBsaSBsaSB7bGlzdC1zdHlsZS10
eXBlOiBjaXJjbGU7fQpkaXYjc2VkX2hlbHAgbGkgbGkgbGkge2xpc3Qtc3R5bGUtdHlwZTog
c3F1YXJlO30KZGl2I3NlZF9oZWxwIGxpIGEgY29kZSB7Zm9udC13ZWlnaHQ6IG5vcm1hbDt9
CmRpdiNzZWRfaGVscCBsaSBjb2RlOmZpcnN0LWNoaWxkIHtiYWNrZ3JvdW5kOiAjZGRkO3Bh
ZGRpbmc6MCAuM2VtO21hcmdpbi1sZWZ0Oi0uM2VtO30KZGl2I3NlZF9oZWxwIGxpIGxpIGNv
ZGU6Zmlyc3QtY2hpbGQge2JhY2tncm91bmQ6bm9uZTtwYWRkaW5nOjA7bWFyZ2luLWxlZnQ6
MDt9CmRpdiNzZWRfaGVscCBkZm4ge2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zdHlsZTpvYmxp
cXVlO30KZGl2I3NlZF9oZWxwIC5yZXF1aXJlZCwgZGl2I3NlZF9oZWxwIC53YXJuaW5nIHtj
b2xvcjpyZWQ7fQpkaXYjc2VkX2hlbHAgLmRlZmF1bHQge2NvbG9yOmdyZWVuO30KZGl2I3Nl
ZF9oZWxwIGtiZCB7Cglmb250LWZhbWlseTogVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyaWY7
Cglmb250LXNpemU6IDExcHg7Cgljb2xvcjogIzAwMDsKCWxpbmUtaGVpZ2h0OiAxMXB4OwoJ
aGVpZ2h0OiAxN3B4OwoJYmFja2dyb3VuZDogI2VlZTsKCWJvcmRlcjogc29saWQgI2FhYTsK
CWJvcmRlci13aWR0aDogMXB4IDAgMCAxcHg7CglwYWRkaW5nOiAtMXB4IDFweDsKfQo8L3N0
eWxlPgoJPHA+PGRpdiBpZD0ic2VkX2hlbHAiPjwvcD4KCiA8ZGl2IGlkPSJ0b2MiPgoKCTxo
Mj5Db250ZW50czwvaDI+CgoJPHVsPgoJCTxsaT48YSBocmVmPSIjb3ZlcnZpZXciPk92ZXJ2
aWV3PC9hPjwvbGk+CgkJPGxpPjxhIGhyZWY9IiNpbnN0YWxsYXRpb24iPkluc3RhbGxhdGlv
bjwvYT48L2xpPgoJCTxsaT48YSBocmVmPSIjdHhwX2hpZ2hsaWdodGluZyI+VHhwIHRhZyBo
aWdobGlnaHRpbmc8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hpc3RvcnkiPkhpc3Rvcnk8
L2E+PC9saT4KCTwvdWw+CgogPC9kaXY+CgoJPGgxPnNvb19lZGl0YXJlYTwvaDE+CgoJPGgy
IGlkPSJvdmVydmlldyI+T3ZlcnZpZXc8L2gyPgoKCTxwPkFkZCA8YSBocmVmPSJodHRwOi8v
d3d3LmNkb2xpdmV0LmNvbS9pbmRleC5waHA/cGFnZT1lZGl0QXJlYSI+RWRpdEFyZWE8L2E+
IGNvZGUgaGlnaGxpZ2h0aW5nIHRvIFR4cCBhZG1pbiB0ZXh0YXJlYXMuIEluc3BpcmVkIGJ5
IHRoZSBhdGJfZWRpdGFyZWEgcGx1Z2luLjwvcD4KCgk8aDIgaWQ9Imluc3RhbGxhdGlvbiI+
SW5zdGFsbGF0aW9uPC9oMj4KCgk8cD48YSBocmVmPSJodHRwOi8vdGV4dGJvb2sudGV4dHBh
dHRlcm4ubmV0L3dpa2kvaW5kZXgucGhwP3RpdGxlPVBsdWdpbnMjRG93bmxvYWRpbmdfLjI2
X2luc3RhbGxpbmdfcGx1Z2lucyI+SW5zdGFsbCB0aGUgcGx1Z2luPC9hPiBpbiB0aGUgdXN1
YWwgd2F5LjwvcD4KCgk8cD5UaGUgcGx1Z2luIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVh
bCBFZGl0QXJlYSBmaWxlczsgeW91IG11c3QgaW5zdGFsbCB0aG9zZSBzZXBhcmF0ZWx5LiA8
YSBocmVmPSJodHRwOi8vc291cmNlZm9yZ2UubmV0L3Byb2plY3RzL2VkaXRhcmVhL2ZpbGVz
LyI+RG93bmxvYWQgRWRpdEFyZWE8L2E+IGFuZCBwbGFjZSB0aGUgPGNvZGU+ZWRpdF9hcmVh
PC9jb2RlPiBkaXJlY3RvcnkgaW4gYSBzZXJ2ZXItYWNjZXNzaWJsZSBsb2NhdGlvbiBvZiB5
b3VyIGNob2ljZS48L3A+CgoJPHA+SWYgeW91IHB1dCBpdCBzb21ld2hlcmUgb3RoZXIgdGhh
biBhdCB0aGUgcm9vdCBsZXZlbCBvZiB5b3VyIDxjb2RlPi90ZXh0cGF0dGVybjwvY29kZT4g
ZGlyZWN0b3J5LCB5b3Ugd2lsbCBuZWVkIHRvIHRlbGwgdGhlIHBsdWdpbiB3aGVyZSB0byBm
aW5kIGl0LiBUaGUgcmVjb21tZW5kZWQgd2F5IGlzIHRvIGluc3RhbGwgPGEgaHJlZj0iaHR0
cDovL2lwc2VkaXhpdC5uZXQvdHhwLzkyL3Nvb19wbHVnaW5fcHJlZiI+c29vX3BsdWdpbl9w
cmVmPC9hPiAoIDxzcGFuIGNsYXNzPSJyZXF1aXJlZCI+cmVxdWlyZXM8L3NwYW4+IFR4cCB2
ZXJzaW9uIDQuMi4wIG9yIGdyZWF0ZXIpLCB0aGVuIHNldCB0aGlzIHZhbHVlIGluIHRoZSA8
YSBocmVmPSJodHRwOi8vdGV4dGJvb2sudGV4dHBhdHRlcm4ubmV0L3dpa2kvaW5kZXgucGhw
P3RpdGxlPVBsdWdpbnMjUGFuZWxfbGF5b3V0Xy4yNl9jb250cm9scyI+cGx1Z2luIG9wdGlv
bnM8L2E+LiAoQWx0ZXJuYXRpdmVseSwgeW91IGNvdWxkIGVkaXQgdGhlIHBsdWdpbiBjb2Rl
IGRpcmVjdGx5Lik8L3A+CgoJPGgyIGlkPSJ0eHBfaGlnaGxpZ2h0aW5nIj5UeHAgdGFnIGhp
Z2hsaWdodGluZzwvaDI+CgoJPHA+QnkgZGVmYXVsdCB0aGUgcGx1Z2luIHVzZXMgRWRpdEFy
ZWEmIzgyMTc7cyA8c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj4gaGlnaGxpZ2h0aW5n
IGZvciBQYWdlIFRlbXBsYXRlIGFuZCBGb3JtIGVkaXRpbmcsIGdpdmluZyBUeHAgdGFncyB0
aGUgc2FtZSBoaWdobGlnaHQgY29sb3IgYXMgPHNwYW4gY2xhc3M9ImNhcHMiPkhUTUw8L3Nw
YW4+IHRhZ3MuIFRvIGhhdmUgVHhwIHRhZ3MgYXBwZWFyIGluIGEgZGlmZmVyZW50IGNvbG9y
LCBhZGQgYSBuZXcgc3ludGF4IGZpbGUgYXQgPGNvZGU+ZWRpdF9hcmVhL3JlZ19zeW50YXgv
PC9jb2RlPi4gKFdoZW5ldmVyIHlvdSB1cGdyYWRlIHRoZSBFZGl0QXJlYSBmaWxlcyB5b3Ug
d2lsbCBoYXZlIHRvIHJlbWVtYmVyIHRvIHByZXNlcnZlIHRoaXMgZmlsZS4pIFRoZW4gY2hh
bmdlIHRoZSA8c3Ryb25nPnNvb19lZGl0YXJlYTwvc3Ryb25nPiBvcHRpb24gZm9yIFBhZ2Ug
VGVtcGxhdGUgJmFtcDsgRm9ybSBzeW50YXggKHRoZSBpbnN0YWxsYXRpb24gaW5zdHJ1Y3Rp
b25zIHRlbGwgeW91IGhvdyB0byBzZXQgcGx1Z2luIG9wdGlvbnMpLjwvcD4KCgk8cD5Zb3Ug
Y2FuIDxhIGhyZWY9Imh0dHA6Ly9pcHNlZGl4aXQubmV0L2ZpbGVfZG93bmxvYWQvMTYvdHhw
LmpzIj5kb3dubG9hZCBhIHR4cC5qcyBzeW50YXggZmlsZTwvYT4gZnJvbSB0aGUgPGEgaHJl
Zj0iaHR0cDovL2lwc2VkaXhpdC5uZXQvdHhwIj5hdXRob3ImIzgyMTc7cyB3ZWJzaXRlPC9h
Pi48L3A+CgoJPGgyIGlkPSJoaXN0b3J5Ij5IaXN0b3J5PC9oMj4KCgk8aDM+VmVyc2lvbiAw
LjEuMCAoMjAxMC8xMi8yMCk8L2gzPgoKCTx1bD4KCQk8bGk+SW5pdGlhbCByZWxlYXNlLjwv
bGk+Cgk8L3VsPgoKCTxwPjwvZGl2PjwvcD4iO3M6NDoiY29kZSI7czoyMzQwOiIKaWYgKCBA
dHhwaW50ZXJmYWNlID09ICdhZG1pbicgKQp7CglAcmVxdWlyZV9wbHVnaW4oJ3Nvb19wbHVn
aW5fcHJlZicpOwkJLy8gb3B0aW9uYWwKCglhZGRfcHJpdnMoJ3BsdWdpbl9wcmVmcy5zb29f
ZWRpdGFyZWEnLCcxLDInKTsKCWFkZF9wcml2cygncGx1Z2luX2xpZmVjeWNsZS5zb29fZWRp
dGFyZWEnLCcxLDInKTsKCXJlZ2lzdGVyX2NhbGxiYWNrKCdzb29fZWRpdGFyZWFfcHJlZnMn
LCAncGx1Z2luX3ByZWZzLnNvb19lZGl0YXJlYScpOwoJcmVnaXN0ZXJfY2FsbGJhY2soJ3Nv
b19lZGl0YXJlYV9wcmVmcycsICdwbHVnaW5fbGlmZWN5Y2xlLnNvb19lZGl0YXJlYScpOwoK
CS8vIE9ubHkgYWN0aXZhdGUgcGx1Z2luIHdoZW4gbmVlZGVkCglpZiAoIGluX2FycmF5KGdw
cygnZXZlbnQnKSwgYXJyYXkoJ3BhZ2UnLCAnZm9ybScsICdjc3MnKSkgKQoJewoJCXJlZ2lz
dGVyX2NhbGxiYWNrKCdzb29fZWRpdGFyZWEnLCAnYWRtaW5fc2lkZScsICdoZWFkX2VuZCcp
OwoJCWdsb2JhbCAkc29vX2VkaXRhcmVhOwoJCSRzb29fZWRpdGFyZWEgPSBmdW5jdGlvbl9l
eGlzdHMoJ3Nvb19wbHVnaW5fcHJlZl92YWxzJykgPwoJCQlhcnJheV9tZXJnZShzb29fZWRp
dGFyZWFfZGVmYXVsdHModHJ1ZSksIHNvb19wbHVnaW5fcHJlZl92YWxzKCdzb29fZWRpdGFy
ZWEnKSkKCQkJOiBzb29fZWRpdGFyZWFfZGVmYXVsdHModHJ1ZSk7Cgl9Cn0KCgpmdW5jdGlv
biBzb29fZWRpdGFyZWFfcHJlZnMoICRldmVudCwgJHN0ZXAgKQp7CglpZiAoIGZ1bmN0aW9u
X2V4aXN0cygnc29vX3BsdWdpbl9wcmVmJykgKQoJCXJldHVybiBzb29fcGx1Z2luX3ByZWYo
JGV2ZW50LCAkc3RlcCwgc29vX2VkaXRhcmVhX2RlZmF1bHRzKCkpOwoJaWYgKCBzdWJzdHIo
JGV2ZW50LCAwLCAxMikgPT0gJ3BsdWdpbl9wcmVmcycgKSB7CgkJJHBsdWdpbiA9IHN1YnN0
cigkZXZlbnQsIDEzKTsKCQkkbWVzc2FnZSA9ICc8cD48YnIgLz48c3Ryb25nPicgLiBnVHh0
KCdlZGl0JykgLiAiICRwbHVnaW4gIiAuCgkJCWdUeHQoJ2VkaXRfcHJlZmVyZW5jZXMnKSAu
ICc6PC9zdHJvbmc+PGJyIC8+JyAuIGdUeHQoJ2luc3RhbGxfcGx1Z2luJykgLgoJCQknIDxh
IGhyZWY9Imh0dHA6Ly9pcHNlZGl4aXQubmV0L3R4cC85Mi9zb29fcGx1Z2luX3ByZWYiPicg
LgoJCQknc29vX3BsdWdpbl9wcmVmPC9hPjwvcD4nOwoJCXBhZ2V0b3AoZ1R4dCgnZWRpdF9w
cmVmZXJlbmNlcycpIC4gIiAmIzgyNTA7ICRwbHVnaW4iLCAkbWVzc2FnZSk7Cgl9Cn0KCmZ1
bmN0aW9uIHNvb19lZGl0YXJlYV9kZWZhdWx0cyggJHZhbHNfb25seSA9IGZhbHNlICkKewoJ
JGRlZmF1bHRzID0gYXJyYXkoCgkJJ3BhZ2VfZm9ybV9sYW5nJwk9PglhcnJheSgKCQkJJ3Zh
bCcJPT4JJ2h0bWwnLAoJCQknaHRtbCcJPT4JJ3RleHRfaW5wdXQnLAoJCQkndGV4dCcJPT4J
J1BhZ2UgVGVtcGxhdGUgYW5kIEZvcm0gc3ludGF4JywKCQkpLAoJCSdlZGl0YXJlYV9kaXIn
CT0+CWFycmF5KAoJCQkndmFsJwk9PgknZWRpdF9hcmVhJywKCQkJJ2h0bWwnCT0+CSd0ZXh0
X2lucHV0JywKCQkJJ3RleHQnCT0+CSdFZGl0QXJlYSBkaXJlY3RvcnknLAoJCSksCgkpOwoJ
aWYgKCAkdmFsc19vbmx5ICkKCQlmb3JlYWNoICggJGRlZmF1bHRzIGFzICRuYW1lID0+ICRh
cnIgKQoJCQkkZGVmYXVsdHNbJG5hbWVdID0gJGFyclsndmFsJ107CglyZXR1cm4gJGRlZmF1
bHRzOwp9CgpmdW5jdGlvbiBzb29fZWRpdGFyZWEoICRldmVudCwgJHN0ZXAgKQp7CglnbG9i
YWwgJHNvb19lZGl0YXJlYTsKCSR2YXJzID0gYXJyYXkoCgkJJ3BhZ2UnID0+IGFycmF5KAoJ
CQknaWQnID0+ICdodG1sJywKCQkJJ3N5bnRheCcgPT4gJHNvb19lZGl0YXJlYVsncGFnZV9m
b3JtX2xhbmcnXSwKCQkpLAoJCSdmb3JtJyA9PiBhcnJheSgKCQkJJ2lkJyA9PiAnZm9ybScs
CgkJCSdzeW50YXgnID0+ICRzb29fZWRpdGFyZWFbJ3BhZ2VfZm9ybV9sYW5nJ10sCgkJKSwK
CQknY3NzJyA9PiBhcnJheSgKCQkJJ2lkJyA9PiAnY3NzJywKCQkJJ3N5bnRheCcgPT4gJ2Nz
cycsCgkJKSwKCSk7CglleHRyYWN0KCR2YXJzW2dwcygnZXZlbnQnKV0pOwkvLyB2YWxpZGF0
ZWQgaW4gcGx1Z2luIGluaXQKCSRpbml0ID0gPDw8RU9UCmVkaXRBcmVhTG9hZGVyLmluaXQo
ewoJaWQgOiAiJGlkIgoJLHN5bnRheDogIiRzeW50YXgiCgksc3RhcnRfaGlnaGxpZ2h0OiB0
cnVlCn0pOwoKRU9UOwoKCWVjaG8KCQknPHNjcmlwdCB0eXBlPSJhcHBsaWNhdGlvbi9qYXZh
c2NyaXB0IiBzcmM9IicsCgkJJHNvb19lZGl0YXJlYVsnZWRpdGFyZWFfZGlyJ10sCgkJJy9l
ZGl0X2FyZWFfZnVsbC5qcyI+PC9zY3JpcHQ+JywKCQluLAoJCXNjcmlwdF9qcygkaW5pdCks
CgkJbgoJOwoKfQoiO3M6MzoibWQ1IjtzOjMyOiJlMTI5NzRkM2E2MDY0NDFlZDIwODYzNzY2
OThlMDI0YSI7fQ==
